# 開発用リポジトリのブランチ運用ルール

## 概要

本ドキュメントは、開発リポジトリ`plateau-web-app`におけるブランチ運用に関するドキュメントである。

## ブランチ

本リポジトリにおいては、以下のブランチを活用する。

### 主なブランチ

- main
  ：安定したバージョンのコードが保管されるブランチ。本番環境で動作するコードが置かれる。
- develop
  ：開発中のコードが置かれるブランチ。新機能開発やバグ修正を行う。

### サポートブランチ

- feacture
  ：新機能開発のために`develop`ブランチから分岐するブランチ。開発が完了したら`develop` ブランチにマージする。
- hotfix
  ：本番バグの修正を行うブランチ。`main`ブランチから分岐する。
- release
  ：新バージョンのリリース準備を行うブランチ。

## フロー

### 開発

開発(新機能追加、バグ修正、リファクタリング)のフローは、`develop`ブランチから`feature`ブランチを作成し各種開発を行う。(基本的には issue からブランチ作成。)

タスク完了後、`develop`ブランチへマージする。
`docs`リポジトリ同様、プルリクを出しレビュー完了次第マージを行う。<br>

詳細な手順は[docs-branch-guideline.md](https://github.com/four-concealed-triples-pair-wait/docs/blob/draft/project-rules/docs-branch-guideline.md)の`具体的な手順`を参考。

### リリース準備

`release`ブランチを `develop`ブランチから作成し、リリース準備を行う。準備完了後、`main`にマージし、タグを付ける。その後、`develop`ブランチにもマージする。

### ホットフィックス

本番環境の重大なバグ修正には`hotfix`ブランチを`main`から作成する。修正後、`main`ブランチと `develop`ブランチの両方にマージする。

## ブランチ名の命名規則

1. ブランチが何をするのかを一目で理解できる名前にすること。

2. ブランチ名は通常小文字で書き、単語の間はダッシュ(-)で区切ること（例：`create-new-login-page`）。

3. ブランチの種類を示すプレフィックスを使用すること。`plateau-web-app`リポジトリでは以下のプレフィックスを使用する
   - `feature/`：新規ドキュメントの追加、既存ドキュメントの修正を行うためのブランチ
   - `chore/`：ドキュメントに関係ない、設定ファイルの更新などのためのブランチ
   - `release/`：リリース準備のためのブランチ。
   - `hotfix/`：本番環境の緊急バグ修正を行うためのブランチ。
   - `bugfix/`：一般的なバグ修正を行うためのブランチ。`feature/`とは異なり、新機能開発ではなくバグの修正に特化している。
   - `refactor/`：コードのリファクタリングを行うためのブランチ。機能の変更なしに、コードのクリーンアップや構造の改善を目的とする。

例えば新機能を追加するためのブランチであれば、以下のようになる。<br>
例：`feature/add-new-feature` <br>
`new-feature`のところは追加する機能を表す単語を入れる。
