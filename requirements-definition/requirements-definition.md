# 要件定義書

# 目的

3D 都市モデル「Plateau」を使用したプログラミングと統計機械学習の学習用 Web サービスの開発。ユーザーが実行したコードや統計機械学習モデルを 3D 都市モデル上に反映し可視化することで学習効果を高める。

# 概要

## システム方式・構成

本システムは、クラウドベースの web アプリケーションとして構築する。 <br>
詳細は他の要件が決定次第詰める。

## 利用者一覧

- 学習者<br>
  - 想定ユーザー：データサイエンスやプログラミングの学習に関心があり、以下の課題を抱えている人。

課題：

- データサイエンスの学習を始める際、学習題材の選定ができない。また、練習のためのデータセットや問題設定が見つけにくい。
- Python の学習に興味があるものの、何から始めれば良いのか、どのように進めれば良いのか分からない。また、単に文法を学ぶだけではなく、問題解決に役立つ Python の使い方を学びたい。
- Python の基本文法に加えて、データ分析や機械学習における統計知識の習得、そしてライブラリ(pandas, numpy, scikit-learn など)の使い方を学ばなければならないが、これらを組み合わせて効率的に学習する方法が見つからない。

# 機能要件

## 必須要件

- 学習コンテンツの提供
  - ユーザーが学習できる一連のコースやチュートリアルを提供する。
  - 各コースには、Python の基本文法、統計の基本、データ分析の手法、機械学習のアルゴリズムなどが含まれる。
- 対話型コーディング環境
  - ユーザーが直接ブラウザ上でコードを書き、実行結果を確認できる環境を提供する。
- 学習進捗の可視化
  - ユーザーがどのコースを完了し、どのトピックを学習したかを追跡し、進行状況を表示する。
- 認証とユーザー管理
  - ユーザー登録、ログイン、パスワードリセットなどの基本的な認証機能を提供する。
  - 各ユーザーのプロフィール情報や学習状況を管理する。

## 余裕があれば対応する要件

- 自動採点・フィードバック機能
  - ユーザーが提出したコードの自動的に評価し、フィードバックを行う。(ChatGPT API 使用)

## 実装機能

- ユーザー管理
  - ユーザー情報として, ユーザー名, アイコン(画像), メールアドレス, パスワードを持つこと
  - ユーザー名, アイコン(画像), メールアドレスの変更ができること
  - 登録されたメールアドレスを使ってパスワードの再設定ができること
    - パスワード再設定用ページのURLをメールで送ること

## 画面

- サイドバー
  - 以下の例外を除いて実装された画面にはサイドバーからアクセスできること
    - ユーザー登録画面
    - パスワード再発行画面
  - サイドバーの一番上はユーザー名, アイコンが表示されること
    - 未ログイン時はユーザー名に「ログイン」, アイコンはデフォルトアイコンを表示すること
    - ログイン時にアイコンがクリックされると, ユーザー情報画面に遷移すること
      - 未ログイン時はログイン画面に遷移すること
  - サイドバーの一番下は「ログアウト」であること

- ヘッダー
  - コース名, ユーザー名, アイコンが表示されること
    - コース未選択時はコース名に何も表示されないこと

- 学習画面
  - コードエディタ, 3D都市モデルViewer, 学習コンテンツが表示されること
  - サイトアクセス時、コース選択時に表示されること
    - サイトアクセス時はデフォルトコースが表示されること
    (デフォルトコースは空のコース名, 空のエディタ, 空のViewerとする)
    - コース選択時は選択されたコースの内容が表示されること
  - エディタ, 3D都市モデルViewer, 学習コンテンツのサイズがブラウザのページ内で変更できること
    - エディタ, 3D都市モデルViewer, 学習コンテンツが別ウインドウで開くこと
    - 別ウインドウで開いたコンテンツは閉じると元のウインドウに表示されること
  - 別の画面に遷移したあと、再度学習画面に戻った際に選択されたコースまたは空のコースが表示されること
  - 保存, 実行, 終了ボタンを表示すること
    - 保存クリックされた場合は進捗が保存されること
    - テキストの編集が未保存の場合に、終了ボタンクリック時に進捗を保存する, または破棄するようにダイアログを表示すること
    - 実行ボタンがクリックされた場合は、進捗を保存し、コードの出力を3D都市Viewerに表示すること
  - テキストの編集が未保存の場合に、画面遷移時に進捗を保存する, または破棄するようにダイアログを表示すること

- ログイン画面
  - メールアドレス, パスワードがテキストボックスに入力できること
  - 新規登録ボタンが表示されること
    - 新規登録ボタンがクリックされると, ユーザー登録画面に遷移すること
  - 「パスワードを忘れた場合は?」のテキストが表示されること
    - 「パスワードを忘れた場合は?」のテキストがクリックされると, パスワード再発行画面に遷移すること

- ログアウト画面
  - 「ログアウトしました」と表示されること
  - サイドバーのユーザー名とアイコンが未ログイン時のものになっていること

- ユーザー登録画面
  - ユーザー名, メールアドレス, パスワード, パスワード(確認用) がテキストボックスに入力できること 
    - 入力値に対してバリデーションし, 異常値に対してテキストボックスの下にアサートすること
      - 例. パスワードとパスワード(確認用)は同じ値であること
  - 登録ボタンが表示されること
    - 登録ボタンがクリックされると, メールアドレスがユニークであるか検索すること
      - ユニークでない場合, エラーを表示し, ユーザー登録画面から遷移しないこと
      - ユニークである場合, 登録完了画面に遷移すること
        - 登録されたメールアドレスに登録完了メールを送信すること
          - 登録完了メールの本文にはユーザー名を含むこと

- 登録完了画面
  - 「ユーザー登録が完了しました」と表示されること
  - 表示された5秒後に学習画面に遷移すること
    
- パスワード再発行画面
  - メールアドレスがテキストボックスに入力できること
  - 送信ボタンが表示されること
    - 送信ボタンがクリックされると, メールアドレスが登録済みであるか検索すること
      - 登録済みでない場合, エラーを表示し, パスワード再発行画面から遷移しないこと
      - 登録済みである場合, パスワード再設定メール送信完了画面に遷移すること
        - 入力されたメールアドレスにパスワード再設定用ページのURLを送信すること

- パスワード再発行メール送信完了画面
  - 「パスワード再設定用ページのURLを送信しました」と表示されること

- パスワード再設定画面
  - パスワード再発行メールのURLからのみ遷移すること
  - パスワード, パスワード(確認用) がテキストボックスに入力できること 
    - 入力値に対してバリデーションし, 異常値に対してテキストボックスの下にアサートすること
      - 例. パスワードとパスワード(確認用)は同じ値であること
  - 登録ボタンが表示されること
    - 登録ボタンがクリックされると, パスワード再設定完了画面に遷移すること
        - 登録されたメールアドレスに再設定完了メールを送信すること
          - 再設定完了メールの本文にはユーザー名を含むこと
  
- パスワード再設定完了画面
  - 「パスワードの再設定が完了しました」と表示されること
  - 表示された5秒後に学習画面に遷移すること

- コース一覧画面
  - 受講できるコースの一覧を表示すること
  - デフォルトではグリッド表示で最近受講した順で並べること
  - コースは, コース名, 最終受講日, 進捗率, カテゴリタグを表示すること
    - コース名, 最終受講日, 進捗率についてそれぞれ昇順と降順でコースを並べ替えられること
  - カテゴリで表示するコースにフィルターをかけられること
  - コースがクリックされると, コンテンツ一覧画面に遷移すること

- コンテンツ一覧画面
  - コースで受講できるコンテンツが表示されること
  - コース名とコースの進捗率が表示されること
  - 各コンテンツの最終受講日が表示されること
  - 完了済みコンテンツと未完了コンテンツを色分けすること
  - コンテンツがクリックされると学習画面に遷移し, ソースコードが読み込まれた状態で表示されること

- 学習進捗画面
  - ユーザーが受講したコース, コースの進捗率, 学習時間が表示されること
  - 学習時間はコースのコースのカテゴリごとに色分けして円グラフで表示すること


## 情報・データ

例

- ユーザー情報（ID, パスワード, メールアドレス, 学習進捗等）
- コース情報（コース名, 内容, 関連する 3D モデル等）
- 学習記録（ユーザー ID, コース ID, 学習時間等）

# 非機能要件

## ユーザビリティ

例

- レスポンシブデザインに対応すること
- 画面遷移しやすくする

## セキュリティ

例

- ユーザー情報の暗号化
- CSRF 対策
- コード実行環境の分離
- リソース制限
- 入力検証

## スケーラビリティ

例

- 大量のユーザーが同時にアクセスしても快適に利用できる

# スケジュール

1Sprint は 1 週間を想定

| Sprint                | 内容                                                                         |
| --------------------- | ---------------------------------------------------------------------------- |
| Sprint1 (~2023/07/16) | 要件定義、設計                                                               |
| Sprint2 (~2023/07/23) | 要件定義、設計                                                               |
| Sprint3 (~2023/07/30) | 設計、システム基盤構築(CI/CD 含む)                                           |
| Sprint4 (~2023/08/06) | システム基盤構築(CI/CD 含む)、フロントエンド・バックエンドの基本的な機能実装 |
